import{o as t,c as e,w as a,a as s,t as l,b as r,d,i,e as o,r as n,f as c,g as u,h as m,F as f,j as h}from"./index-jQXsTQrA.js";const p=(t,e)=>{const a=t.__vccOpts||t;for(const[s,l]of e)a[s]=l;return a};const _=p({components:{countdown:p({props:{startTime:{type:String},endTime:{type:String}},data:()=>({timer:null,d:0,h:0,m:0,s:0}),mounted(){this.time()},beforeDestroy(){clearInterval(this.timer),this.timer=null},computed:{sTime(){return this.startTime},eTime(){return this.endTime}},watch:{endTime(){clearInterval(this.timer),this.time()}},methods:{time(){let t=this.GetDateDiff(this.sTime,this.eTime);this.getCountdownTime(t)},GetDateDiff(t,e){t=t.replace(/\-/g,"/"),e=e.replace(/\-/g,"/");var a=new Date(t),s=new Date(e);return parseInt((s.getTime()-a.getTime())/1e3)},getCountdownTime(t){let e=t;e>0&&(this.timer=setInterval((()=>{0==e?(clearInterval(this.timer),this.h=0,this.m=0,this.s=0):(this.d=parseInt(t/3600/24),this.h=parseInt(e/3600%24),this.m=parseInt(e/60%60),this.s=parseInt(e%60),e--)}),1e3))}}},[["render",function(n,c,u,m,f,h){const p=i,_=o;return t(),e(_,{class:"countdown"},{default:a((()=>[0!=f.d?(t(),e(_,{key:0,class:"time"},{default:a((()=>[s(l(f.d)+" ",1),r(p,{style:{"font-size":"15rpx"}},{default:a((()=>[s("day")])),_:1})])),_:1})):d("",!0),r(_,{class:"time",style:{"margin-left":"9rpx"}},{default:a((()=>[s(l(f.h<10?"0"+f.h:f.h),1)])),_:1}),r(p,{class:"text",style:{color:"black","font-size":"25rpx"}},{default:a((()=>[s(":")])),_:1}),r(_,{class:"time"},{default:a((()=>[s(l(f.m<10?"0"+f.m:f.m),1)])),_:1}),r(p,{class:"text",style:{color:"black","font-size":"25rpx"}},{default:a((()=>[s(":")])),_:1}),r(_,{class:"time"},{default:a((()=>[s(l(f.s<10?"0"+f.s:f.s),1)])),_:1})])),_:1})}],["__scopeId","data-v-e5542071"]])},data:()=>({title:"Hello",number:null,taskorder:{status:null},shoplist:[],taskmodel:[]}),onLoad(t){t.x?(this.number=t.x,this.getData()):window.location.href="https://www.2hungry.app"},methods:{getData(){var t=this;n({url:"https://hungrywm.com/api/taskorder/detail",method:"GET",data:{number:this.number},success:e=>{this.taskorder=e.data.data.taskorder;let a=e.data.data.taskmodel,s=[];a.forEach((function(t){let e=!0;for(var a=0;a<s.length;a++)s[a].id==t.item_idinfo.category.id&&(e=!1);e&&s.push(t.item_idinfo.category)}),this),a.forEach((function(t){for(var e=0;e<s.length;e++)s[e].id==t.item_idinfo.category.id&&(s[e].goods=t.item_idinfo)}),this),t.shoplist=s},fail:t=>{console.error("获取数据失败:",t)}})},pay(){}}},[["render",function(i,n,p,_,g,y){const k=h,b=o,w=c("countdown");return t(),e(b,{class:"content"},{default:a((()=>[r(b,{class:"head"},{default:a((()=>[r(b,{class:"image"},{default:a((()=>[r(k,{src:"/assets/HUNGERY-CW5mP9ng.png",mode:""})])),_:1}),r(b,{class:"right"},{default:a((()=>[r(b,{class:"name"},{default:a((()=>[s(" hungery5646164 ")])),_:1}),r(b,{class:"title"},{default:a((()=>[s(" Hi~You and I are only one takeaway away ")])),_:1})])),_:1})])),_:1}),r(b,{class:"djsbox"},{default:a((()=>[r(b,{class:"price"},{default:a((()=>[s(" RM202.1 ")])),_:1}),r(b,{class:"djstime"},{default:a((()=>[0==g.taskorder.status?(t(),e(b,{key:0,class:""},{default:a((()=>[s(" Remaining time ")])),_:1})):d("",!0),0==g.taskorder.status?(t(),e(b,{key:1,class:"countd"},{default:a((()=>[r(w,{startTime:"2025-04-30 15:00:00",endTime:"2025-04-30 16:00:00"})])),_:1})):d("",!0),0==g.taskorder.status?(t(),e(b,{key:2,class:"dfdetail"},{default:a((()=>[r(b,{class:"title"},{default:a((()=>[s(" Payment instructions ")])),_:1}),r(b,{class:"detail",style:{"margin-top":"20rpx"}},{default:a((()=>[s(" 1. If the payment is not made within 15 minutes after the order is successfully created, the order will be automatically cancelled and you can place a new order. ")])),_:1}),r(b,{class:"detail"},{default:a((()=>[s(" 2. After the refund of the payment order is successful, the actual payment amount will be returned to the payer by the original method. ")])),_:1})])),_:1})):d("",!0),3==g.taskorder.status?(t(),e(b,{key:3,class:"dfdetail",style:{"background-color":"rgba(175, 175, 175, 0.2)",color:"#2d2d2d","text-align":"center"}},{default:a((()=>[r(b,{class:""},{default:a((()=>[s(" Order Cancelled ")])),_:1})])),_:1})):d("",!0),2==g.taskorder.status?(t(),e(b,{key:4,class:"dfdetail",style:{"background-color":"rgba(22, 227, 0, 0.2)",color:"#1bb900","text-align":"center"}},{default:a((()=>[r(b,{class:""},{default:a((()=>[s(" Order paid ")])),_:1})])),_:1})):d("",!0),0==g.taskorder.status?(t(),e(b,{key:5,class:"butpay"},{default:a((()=>[s(" Pay for a friend ")])),_:1})):d("",!0)])),_:1})])),_:1}),r(b,{class:"goodsbox"},{default:a((()=>[(t(!0),u(f,null,m(g.shoplist,(d=>(t(),e(b,{class:"shopitem"},{default:a((()=>[r(b,{class:"shoptitle"},{default:a((()=>[s(l(d.name),1)])),_:2},1024),r(b,{class:"goodsitem"},{default:a((()=>[r(b,{class:"left"},{default:a((()=>[r(k,{src:d.goods.image,mode:""},null,8,["src"])])),_:2},1024),r(b,{class:"mid"},{default:a((()=>[r(b,{class:"name"},{default:a((()=>[s(l(d.goods.name),1)])),_:2},1024),r(b,{class:"detail",innerHTML:d.goods.description},null,8,["innerHTML"]),r(b,{class:"number"},{default:a((()=>[s(" x1 ")])),_:1})])),_:2},1024),r(b,{class:"right"},{default:a((()=>[s(" RM"+l(d.goods.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),_:1})])),_:1})}],["__scopeId","data-v-60e070ac"]]);export{_ as default};
